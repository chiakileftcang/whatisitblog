var _={};_.canPlayM3U8=/test/.test(window.navigator.userAgent)||!!document.createElement("video").canPlayType("application/x-mpegURL")?true:false;_.isChromeOnMac=function(){var e=navigator.userAgent.toLowerCase();if(e.match(/Macintosh/i)&&e.match(/Chrome/i))return true;else return false};_.each=function(e,r,t,n,a){if(typeof e.length=="number"){for(n=0,a=e.length;n<a;n++)if(r.call(t,e[n],n)==false)break}else for(n in e)if(r.call(t,e[n],n)==false)break};_.extend=function(e){var r=arguments.length,t=1,n;while(t<r){n=arguments[t];for(var a in n){if(n.hasOwnProperty(a)){e[a]=n[a]}}t++}return e};_.queryString=function(e){var r=[];_.each(e,function(e,t){e!==undefined&&r.push(t+"="+e)});return r.join("&")};_.byId=function(e){return document.getElementById(e)};_.rNode=function(e){try{e.parentNode.removeChild(e)}catch(r){}};_.cTag=function(e,r,t,n){var a=document.createElement(e),i="";_.each(r||{},function(e,r){i+=[r,":",e,";"].join("")}),a.style.cssText=i;_.each(t||{},function(e,r){a.setAttribute(r,e)});return n&&n.appendChild(a)||a};_.jsonp=function(e,r,t,n){var a,i="HTML5PlayerCallBack"+ +new Date+Math.random().toString().replace(".","");var o=e.indexOf("?")>=0;r=_.queryString(r);if(r.length)r=(o?"&":"?")+r;n=[o||r.length?"&":"?",n||"callback","=",i].join("");window[i]=function(){t&&t.apply(this,arguments);delete window[i];_.rNode(a)};(a=_.cTag("script",{},{},document.body)).src=e+r+n};_.times=function(){return(new Date).getTime()};_.log=function(e){window.console||window.console(e)};_.isMobile=function(){var e=navigator.userAgent.toLowerCase();var r=e.match(/ipad/i)=="ipad";var t=e.match(/iphone os/i)=="iphone os";var n=e.match(/midp/i)=="midp";var a=e.match(/rv:1.2.3.4/i)=="rv:1.2.3.4";var i=e.match(/ucweb/i)=="ucweb";var o=e.match(/android/i)=="android";var s=e.match(/windows ce/i)=="windows ce";var c=e.match(/windows mobile/i)=="windows mobile";var p=e.match(/windows phone/i)=="windows phone";if(r||t||n||a||i||o||s||c||p){return true}else{return false}};_.cookie={get:function(e){var r=null;var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(document.cookie);if(n){r=n[2]||""}if("string"==typeof r){r=decodeURIComponent(r);return r}return""},set:function(e,r,t){t=t||{};r=encodeURIComponent(r);var n=t.expires;if("number"==typeof t.expires){n=new Date;n.setTime(n.getTime()+t.expires)}document.cookie=e+"="+r+(t.path?"; path="+t.path:"")+(n?"; expires="+n.toGMTString():"")+(t.domain?"; domain="+t.domain:"")+(t.secure?"; secure":"")},remove:function(e,r){r=r||{};r.expires=new Date(0);_.cookie.set(e,"",r)}};function show(e,r,t){try{var n=_.byId(e);n.innerHTML="";var a=_.cTag("video",null,{src:r,controls:"controls",preload:"preload",width:t.width,height:t.height},n)}catch(i){}}function pptv(e,r,t,n){function a(e){var r,t,n,a,o,s,c,p,u,f;for(var v in e.childNodes){var d=e.childNodes[v];if(d.tagName==="channel"){s=d.nm;f=d.vt;c=d.dur;for(var l in d.childNodes){var h=d.childNodes[l];if(h.tagName==="live"){p=h.start;u=h.end}if(h.tagName==="file"||h.tagName==="stream"){var m=h.tagName==="file"?h.cur:h.cft;for(var I in h.childNodes){var g=h.childNodes[I];if(g.ft===m){r=m;t=g.rid;break}}}if(r){break}}}else{if(d.tagName==="dt"&&(d.ft==r||!d.ft)){for(var w in d.childNodes){var y=d.childNodes[w];if(y.tagName==="sh"){n=y.childNodes[0]}else{if(y.tagName==="key"){a=y.childNodes[0]}}}}}}if(r!==undefined&&t&&n){t=t.replace(".mp4","");if(f==5){i.videoType=20;o="http://"+n+"/live/5/60/"+t+".m3u8?type="+i.loadType+"&begin="+p+"&end="+u}else{i.videoType=1;o="http://"+n+(i.islumia?"/w/":"/")+t+".m3u8?type="+i.loadType;o=i.islumia?o.replace("m3u8","mp4"):o}o+=a?"&k="+a:"";o+=i.segment?"&segment="+i.segment:""}else{}return o}var i={};if(_.canPlayM3U8){i.loadType="m3u8.web.pad"}else if(_.isChromeOnMac()||_.isMobile()){i.loadType="mpptv.wp";i.islumia=true}_.jsonp("http://web-play.pptv.com/webplay3-0-"+e+".xml",{version:4,type:i.loadType,kk:r,o:"v.pptv.com"},function(e){var r=a(e);if(_.canPlayM3U8){show(t,r,n)}else if(_.isChromeOnMac()||_.isMobile()){show(t,r,n)}},"cb")}function sina(e,r,t,n){if(_.isChromeOnMac()||_.isMobile()){if(r==1){_.jsonp("http://video.sina.com.cn/interface/video_ids/video_ids.php",{v:e},function(e){var r=e.ipad_vid;var a="http://v.iask.com/v_play_ipad.php?vid="+r+"&tags=newsList_web";show(t,a,n)})}else if(r==2){show(t,"http://v.iask.com/v_play_ipad.php?vid="+e+"&tags=newsList_web",n)}}}function youku(e,r,t){var n="b4et";var a="boa4";var i="4";var o="1";var s;var c;var p;function u(e){if(!e)return"";e=e.toString();var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var t=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);var n,a,i;var o,s,c;i=e.length;a=0;n="";while(a<i){o=e.charCodeAt(a++)&255;if(a==i){n+=r.charAt(o>>2);n+=r.charAt((o&3)<<4);n+="==";break}s=e.charCodeAt(a++);if(a==i){n+=r.charAt(o>>2);n+=r.charAt((o&3)<<4|(s&240)>>4);n+=r.charAt((s&15)<<2);n+="=";break}c=e.charCodeAt(a++);n+=r.charAt(o>>2);n+=r.charAt((o&3)<<4|(s&240)>>4);n+=r.charAt((s&15)<<2|(c&192)>>6);n+=r.charAt(c&63)}return n}function f(e){if(!e)return"";var e=e.toString(),r,t,n,a,i,o=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];a=e.length;n=0;for(i="";n<a;){do r=o[e.charCodeAt(n++)&255];while(n<a&&-1==r);if(-1==r)break;do t=o[e.charCodeAt(n++)&255];while(n<a&&-1==t);if(-1==t)break;i+=String.fromCharCode(r<<2|(t&48)>>4);do{r=e.charCodeAt(n++)&255;if(61==r)return i;r=o[r]}while(n<a&&-1==r);if(-1==r)break;i+=String.fromCharCode((t&15)<<4|(r&60)>>2);do{t=e.charCodeAt(n++)&255;if(61==t)return i;t=o[t]}while(n<a&&-1==t);if(-1==t)break;i+=String.fromCharCode((r&3)<<6|t)}return i}function v(e){if(!e)return"";var e=e.toString(),r,t,n,a,i,o;n=e.length;t=0;for(r="";t<n;){a=e.charCodeAt(t++)&255;if(t==n){r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>2);r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((a&3)<<4);r+="==";break}i=e.charCodeAt(t++);if(t==n){r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>2);r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((a&3)<<4|(i&240)>>4);r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((i&15)<<2);r+="=";break}o=e.charCodeAt(t++);r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>2);r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((a&3)<<4|(i&240)>>4);r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((i&15)<<2|(o&192)>>6);r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o&63)}return r}function d(e,r){for(var t=[],n=0,a,i="",o=0;256>o;o++)t[o]=o;for(o=0;256>o;o++)n=(n+t[o]+e.charCodeAt(o%e.length))%256,a=t[o],t[o]=t[n],t[n]=a;for(var s=n=o=0;s<r.length;s++)o=(o+1)%256,n=(n+t[o])%256,a=t[o],t[o]=t[n],t[n]=a,i+=String.fromCharCode(r.charCodeAt(s)^t[(t[o]+t[n])%256]);return i}function l(e,r){for(var t=[],n=0;n<e.length;n++){for(var a=0,a="a"<=e[n]&&"z">=e[n]?e[n].charCodeAt(0)-97:e[n]-0+26,i=0;36>i;i++)if(r[i]==a){a=i;break}t[n]=25<a?a-26:String.fromCharCode(a+97)}return t.join("")}var h=function(e,r,t){var n=this;new Date;this._sid=c,this._fileType=t,this._videoSegsDic={};this._ip=e.security.ip;var a=(new m,[]),i=[];i.streams={},i.logos={},i.typeArr={},i.totalTime={};for(var o=0;o<r.length;o++){for(var s=r[o].audio_lang,p=!1,u=0;u<a.length;u++)if(a[u]==s){p=!0;break}p||a.push(s)}for(var o=0;o<a.length;o++){for(var f=a[o],v={},d={},l=[],u=0;u<r.length;u++){var h=r[u];if(f==h.audio_lang){if(!n.isValidType(h.stream_type))continue;var I=n.convertType(h.stream_type),g=0;"none"!=h.logo&&(g=1),d[I]=g;var w=!1;for(var y in l)I==l[y]&&(w=!0);w||l.push(I);var b=h.segs;if(null==b)continue;var _=[];w&&(_=v[I]);for(var k=0;k<b.length;k++){var C=b[k];if(null==C)break;var S={};S.no=k,S.size=C.size,S.seconds=Number(C.total_milliseconds_video)/1e3,S.milliseconds_video=Number(h.milliseconds_video)/1e3,S.key=C.key,S.fileId=this.getFileId(h.stream_fileid,k),S.src=this.getVideoSrc(u,k,e,h.stream_type,S.fileId),S.type=I,_.push(S)}v[I]=_}}var M=this.langCodeToCN(f).key;i.logos[M]=d,i.streams[M]=v,i.typeArr[M]=l}this._videoSegsDic=i,this._videoSegsDic.lang=this.langCodeToCN(a[0]).key},m=function(e){this._randomSeed=e,this.cg_hun()};m.prototype={cg_hun:function(){this._cgStr="";for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/\\:._-1234567890",r=e.length,t=0;r>t;t++){var n=parseInt(this.ran()*e.length);this._cgStr+=e.charAt(n),e=e.split(e.charAt(n)).join("")}},cg_fun:function(e){for(var r=e.split("*"),t="",n=0;n<r.length-1;n++)t+=this._cgStr.charAt(r[n]);return t},ran:function(){return this._randomSeed=(211*this._randomSeed+30031)%65536,this._randomSeed/65536}},h.prototype={getFileId:function(e,r){if(null==e||""==e)return"";var t="",n=e.slice(0,8),a=r.toString(16);1==a.length&&(a="0"+a),a=a.toUpperCase();var i=e.slice(10,e.length);return t=n+a+i},isValidType:function(e){return"3gphd"==e||"flv"==e||"flvhd"==e||"mp4hd"==e||"mp4hd2"==e||"mp4hd3"==e?!0:!1},convertType:function(e){var r=e;switch(e){case"m3u8":r="mp4";break;case"3gphd":r="3gphd";break;case"flv":r="flv";break;case"flvhd":r="flv";break;case"mp4hd":r="mp4";break;case"mp4hd2":r="hd2";break;case"mp4hd3":r="hd3"}return r},langCodeToCN:function(e){var r="";switch(e){case"default":r={key:"guoyu",value:"国语"};break;case"guoyu":r={key:"guoyu",value:"国语"};break;case"yue":r={key:"yue",value:"粤语"};break;case"chuan":r={key:"chuan",value:"川话"};break;case"tai":r={key:"tai",value:"台湾"};break;case"min":r={key:"min",value:"闽南"};break;case"en":r={key:"en",value:"英语"};break;case"ja":r={key:"ja",value:"日语"};break;case"kr":r={key:"kr",value:"韩语"};break;case"in":r={key:"in",value:"印度"};break;case"ru":r={key:"ru",value:"俄语"};break;case"fr":r={key:"fr",value:"法语"};break;case"de":r={key:"de",value:"德语"};break;case"it":r={key:"it",value:"意语"};break;case"es":r={key:"es",value:"西语"};break;case"po":r={key:"po",value:"葡语"};break;case"th":r={key:"th",value:"泰语"}}return r},getVideoSrc:function(e,r,t,n,i,s,f){var v=t.stream[e],h=t.video.encodeid;if(!h||!n)return"";var m={flv:0,flvhd:0,mp4:1,hd2:2,"3gphd":1,"3gp":0},I=m[n],g={flv:"flv",mp4:"mp4",hd2:"flv",mp4hd:"mp4",mp4hd2:"mp4","3gphd":"mp4","3gp":"flv",flvhd:"flv"},w=g[n],y=r.toString(16);1==y.length&&(y="0"+y);var b=v.segs[r].total_milliseconds_video/1e3,_=v.segs[r].key;(""==_||-1==_)&&(_=v.key2+v.key1);var k="";t.show&&(k=t.show.pay?"&ypremium=1":"&ymovie=1");var C="/player/getFlvPath/sid/"+c+"_"+y+"/st/"+w+"/fileid/"+i+"?K="+_+"&hd="+I+"&myp=0&ts="+b+"&ypp=0"+k,S=[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26],M=encodeURIComponent(u(d(l(a+"poz"+o,S).toString(),c+"_"+i+"_"+p)));return C+="&ep="+M,C+="&ctype=12",C+="&ev=1",C+="&token="+p,C+="&oip="+this._ip,C+=(s?"/password/"+s:"")+(f?f:""),C="http://k.youku.com"+C}};e!=""&&_.jsonp("http://play.youku.com/play/get.json?vid="+e+"&ct=12",{},function(u){s=u;var m=u.data,I=d(l(n+"o0b"+i,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),f(m.security.encrypt_string));I=I.split("_");c=I[0];p=I[1];if(!/PlayStation/.test(window.navigator.userAgent)&&_.canPlayM3U8){var g=encodeURIComponent(v(d(l(a+"poz"+o,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),c+"_"+e+"_"+p)));var w=m.security.ip;show(r,"http://pl.youku.com/playlist/m3u8?vid="+e+"&type=flv&ctype=12&keyframe=1&ep="+g+"&sid="+c+"&token="+p+"&ev=1&oip="+w,t)}else if(_.isChromeOnMac()||_.isMobile()){var y=new h(m,m.stream,"mp4");show(r,y._videoSegsDic.streams["guoyu"]["3gphd"][0].src,t)}},"callback")}function tudou(e,r,t,a){var i="b4et";var o="boa4";var s="4";var c="1";var p;var u;var f;var v="MzU2NDY1MzIz",d="NjMxMzAzMw==",l="NTM0NjYzOA==",h="MzczMjMxMzc2";function m(e){var r=(w(atob(decodeURIComponent(e.ep)),T)||"_").split("_");e.sid=r[0];e.tk=r[1];return e}function I(e,r){var t=[];var n=window.atob(e+(r?d:l));for(var a=0,i=n.length;a<i;a+=2)t.push(n.substring(a,a+2));return t}function g(e,r){e=e(r?h:v,r);var t=[];for(var n=0,a=e.length;n<a;n++)t.push(String.fromCharCode(parseInt(e[n],16)));return t.join("")}function w(e,r){var t=[],n=0,a,i="";for(var o=0;o<256;o++)t[o]=o;for(o=0;o<256;o++){n=(n+t[o]+r.charCodeAt(o%r.length))%256;a=t[o];t[o]=t[n];t[n]=a}o=0;n=0;for(var s=0;s<e.length;s++){o=(o+1)%256;n=(n+t[o])%256;a=t[o];t[o]=t[n];t[n]=a;i+=String.fromCharCode(e.charCodeAt(s)^t[(t[o]+t[n])%256])}return i}function y(e,r,t){var n={2:"flv",3:"mp4",4:"mp4",5:"hd2",99:"hd2"}[r||2];var a={vid:e.videoid,type:n,keyframe:1,ts:+new Date,sid:e.sid,token:e.tk,ctype:62,ev:1,oip:e.ip,ep:M(e.sid,e.videoid,e.tk,true),yktk:t};var i="http://pl.youku.com/playlist/m3u8?"+_.queryString(a)+b(e.videoid);return i}function b(e){var r="&vid="+e+"&uc_param_str=xk";return r}function k(e,r){var t=S(r);return[e,t].join("_")}function C(e,r){var t=S(r);return e.substring(0,8)+t+e.substring(10)}function S(e){var r=(e||0).toString(16);return r.length>1?r:"0"+r}function M(e,r,t,n){var a=[e,r,t].join("_");var i=btoa(w(a,z));if(!n)i=encodeURIComponent(i);return i}function A(e,r){var n=e.segs["3gphd"]||e.segs["mp4"];var i=e.streamfileids["3gphd"]||e.streamfileids["mp4"];if(n)n.forEach(function(r,n){if(r.k==-1)return;var o=k(e.sid,n);var s=C(i,n);var c=M(e.sid,s,e.tk);_.jsonp("http://k.youku.com/player/getFlvPath/sid/"+o+"/st/mp4/fileid/"+s,{ctype:62,ev:1,hd:1,mpy:0,ts:r.seconds,token:e.tk,oip:e.ip,ep:c,K:r.k},function(e){if(e&&e[0]&&e[0].server){r.url=e[0].server;show(t,r.url,a)}})})}var x=function(e){_.jsonp("http://vr.tudou.com/v2proxy/v2.js",{it:e,st:"52%2C53%2C54"},function(e){if(e===-1||e.code==-1)return false;for(var r=[],n=0,i=e.urls.length;n<i;n++){r.push([n,e.urls[n]])}show(t,r[0],a)})};function j(e){_.jsonp("http://v.youku.com/player/getPlaylist/VideoIDS/"+_id+"/Pf/4/Sc/2",{ctype:62,ev:1},function(r){var i=r.data[0];var o=r.controller||{};var s=r.user||{};var c=i.show||{};var p={download:o.download_disabled||false,xplayer:o.xplayer_disable||false,app:o.app_disable||false,stage:parseInt(c.stage)||1,isVip:s.vip||false};var u=m(i);if(i.error_code&&i.error_code<0){p.errorCode=i.error_code;n("",p)}else if("m3u8"==e)show(t,y(u,2,""),a);else if("mp4"==e)A(u,p)},"__callback")}var T=g(I,0);var z=g(I,1);console.log(e,r);if(e){youku(e,t,a)}else{if(_.canPlayM3U8)j("m3u8");else if(_.isChromeOnMac()||_.isMobile())x(r)}}function soHuVars(){var e={os:{android:true,version:"4.1.2",tablet:true,phone:false,pixelRatio:2,screenSizeCorrect:1,androidPad:false,androidpad:false,type:"android",platform:"android"},browser:{webkit:true,version:"18.0.1025.166",chrome:true},device:{}};function r(){var e=1;try{e=void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio?window.devicePixelRatio:window.devicePixelRatio,e=parseFloat(e)||1}catch(r){}return e}function t(){var e=1;return i.ipad?e=2:i.iphone?e=3:i.android?(e=5,/tv/i.test(c)&&(e=6)):i.androidPad?e=4:i.winpad?e=7:i.wp&&(e=8),e}var n,a=e.browser,i=e.os,o=nc;c="Mozilla/5.0 (Linux; Android 4.1.2; Nexus 7 Build/JZ054K) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Safari/535.19";n={API_KEY:"f351515304020cad28c92f70f002261c",REQUEST_MAX_COUNT:3,ENABLE_DEBUG:0,IS_EXTERNAL_PLAYER:false,ScreenSizeCorrect:1,PixelRatio:r(),createUUID:function(){var e=Math.floor(window.screen.width),r=Math.floor(window.screen.height),n=Math.floor(Math.sqrt(e*e+r*r))||0,a=Math.round(t())||1,i=1e3*+new Date,o=i+a+n+Math.round(1e3*Math.random());return o}},a.android&&(window.screen.width/window.innerWidth).toFixed(2)===n.PixelRatio.toFixed(2)&&(n.ScreenSizeCorrect=1/n.PixelRatio),n.ScreenSize=Math.floor(window.screen.width*n.ScreenSizeCorrect)+"x"+Math.floor(window.screen.height*n.ScreenSizeCorrect),n.uid=function(){var e=o("SUV");if(!e){e=n.createUUID();var r="tv.sohu.com";o("SUV",e,{domain:r,path:"/",expires:300})}return e}(),n.muid=function(){var e=o("_muid_");if(!e){e=n.createUUID();var r="tv.sohu.com";o("_muid_",e,{domain:r,path:"/",expires:300})}return e}(),n.is56=false,n.issohu=true;return n}function nc(e,r,t){if("undefined"==typeof r){var n=new RegExp("(?:^|; )"+e+"=([^;]*)").exec(document.cookie);return n?n[1]||"":""}t=t||{},null===r&&(r="",t.expires=-1);var a="";if(t.expires&&("number"==typeof t.expires||t.expires.toUTCString)){var i;"number"==typeof t.expires?(i=new Date,i.setTime(i.getTime()+24*t.expires*60*60*1e3)):i=t.expires,a="; expires="+i.toUTCString()}var o=t.path?"; path="+t.path:"",s=t.domain?"; domain="+t.domain:"",c=t.secure?"; secure":"";document.cookie=[e,"=",r,a,o,s,c].join("")}function sohu(e,r,t){function n(){var e=1;if("undefined"!=typeof navigator.platform)for(var r=["Win32","Win64","Windows","Mac68K","MacPC","Macintosh","MacIntel"],t=0,n=r.length;n>t;t++)if(navigator.platform===r[t]){e=1;break}return a.ipad&&(e=2),a.iphone&&(e=3),a.android&&(e=5,/tv/i.test(s)&&(e=6)),a.androidPad&&(e=4),a.winpad&&(e=7),a.wp&&(e=8),e}var i="http://m.tv.sohu.com/phone_playinfo?";var o={api_key:"f351515304020cad28c92f70f002261c",plat:"17",sver:"1.0",partner:"1",site:1,vid:e};var c=soHuVars();o.uid=c.uid;o.muid=c.muid;o._c=1;o.pt=5;o.qd=680;o.src=11060001;o.appid="tv";function p(){_.jsonp("http://pad.tv.sohu.com/playinfo",{vid:e,playlistid:0,sig:shift_en.call(""+(new Date).getTime(),[23,12,131,1321]),key:shift_en.call(e,[23,12,131,1321]),uid:uid},function(n){var a="";switch(n.quality){case 2:a=n.norVid;break;case 1:a=n.highVid;break;case 21:a=n.superVid;break;case 31:a=n.oriVid;break;default:a=n.highVid}show(r,a.replace(/ipad\d+\_/,"ipad"+e+"_")+"&uid="+uid+"&ver="+n.quality+"&prod=h5&pt=2&pg=1&ch="+n.cid,t)})}function u(){o._=Date.now();_.jsonp(i,o,function(e){console.log(e);if(e.status==200){if(e.data&&e.data.urls&&e.data.urls.downloadUrl&&e.data.urls.downloadUrl.length>0){show(r,e.data.urls.downloadUrl[0],t)}}})}if(_.canPlayM3U8)p();else if(_.isChromeOnMac()||_.isMobile())u()}function qq(e,r,t){function n(e){function r(){return"v1010"}function t(e,r){if(0===r)return e;var t=e.lastIndexOf("."),n=e.substr(0,t)+"."+r+e.substring(t);return n}function n(e){var r=e.indexOf("."),t=e.substr(r);return t}function a(e,t,n,a){for(var i=[],o={},s={},c=e.ui.length,p=0;c>p;p++)o=e.ui[p],s={},o.url&&(o.url&&-1===o.url.indexOf(t+".flv")&&-1===o.url.indexOf(t+".mp4")?s.url=o.url+n:s.url=o.url,o.vt&&(s.vt=parseInt(o.vt)),-1===s.url.indexOf("sdtfrom")&&(s.url.indexOf("?")>-1?s.url+="&sdtfrom="+r():s.url+="?sdtfrom="+r()),i.push(s));return i}var i,o,s,c=e.vl,p=c.vi,u=p[0],f=[],v=u.cl.fc,d=u.fn;if(!u.cl.ci&&u.fvkey&&u.fn&&u.ul&&u.ul.ui&&u.ul.ui.length)return i={},i.vid=u.lnk,i.width=parseInt(u.vw),i.height=parseInt(u.vh),i.bytesTotal=parseInt(u.fs),i.byteRate=u.br,i.filename=u.fn,o=u.fn,i.newFileName=o,i.fileNameSuffix=n(o),i.urlArray=a(u.ul,u.lnk,o,i.fileNameSuffix),i.vt=u.ul.ui[0].vt,i.duration=parseInt(u.td,10),f.push(i),f;if(u.cl.ci&&v===u.cl.ci.length){for(var l=0;v>l;l++)s=u.cl.ci[l],i={},i.vid=u.lnk,i.width=parseInt(u.vw),i.height=parseInt(u.vh),i.bytesTotal=parseInt(s.cs),i.duration=parseInt(s.cd),i.byteRate=u.br,i.filename=u.fn,o=t(d,l+1),i.newFileName=o,i.fileNameSuffix=n(o),i.urlArray=a(u.ul,u.lnk,o,i.fileNameSuffix),i.vt=u.ul.ui[0].vt,f.push(i);return f}}function a(e){var r="";var t=n(e);if(e.vl&&e.vl.vi&&e.vl.vi.length>0){r=t[0].urlArray[0].url+"&vkey="+e.vl.vi[0].fvkey}return r}_.jsonp("http://h5vv.video.qq.com/getinfo",{otype:"json",platform:"10901",vid:e,_:+new Date},function(e){if(_.canPlayM3U8||_.isChromeOnMac()||_.isMobile())show(r,a(e),t)})}function iqiyi(e,r,t){var n={z0:function(e){return function(e,r){return function(e){return{p0:e}}(function(t){var n,a=0;for(var i=e;a<t["length"];a++){var o=r(t,a);n=a===0?o:n^o}return n?i:!i})}(function(r,t,n,a){var i=785;var o=a(t,n)-r(e,i);return true}(parseInt,Date,function(e){return(""+e)["substring"](1,(e+"")["length"]-1)}("_getTime2"),function(e,r){return(new e)[r]()}),function(e,r){var t=parseInt(e["charAt"](r),16)["toString"](2);return t["charAt"](t["length"]-1)})}("ecg6mf6ar")};var o=function(e){var r=new Array;var t;if(e&&e.length>0){var n=e.split("*");for(t=0;t<n.length-1;t++){switch(t%3){case 0:r+=String.fromCharCode(parseInt(n[t],8));break;case 1:r+=String.fromCharCode(parseInt(n[t],10));break;case 2:r+=String.fromCharCode(parseInt(n[t],16));break}}return r}else{return""}};function s(e,r,t,c,p,u){var f=function(){h=h>m?m:h};var v=function(e,r){return e===r};var d=function(){less(j,a.length>>parseInt("1",16))?JRMtg():QN3kF();var e=R};var v=function(e,r){return e===r};var l=function(e,r){return e>r};var h=n.z0.p0("e")?screen.height:3;var m=n.z0.p0("a")?screen.width:8;var I=n.z0.p0("4512")?"":window.orientation;v(I,1*2*3*3*5)||v(I,-(1*2*3*3*5))?f():"";var g=n.z0.p0("e73")?1:window.devicePixelRatio;var w=function(){Z.src+="2d66";T=[N(a[0],T[0]),N(a[1],T[1]),N(a[2],T[2]),N(a[3],T[3])];Z.__jsT=R()};h=Math.round(h/g);var y=n.z0.p0("b74")?1:Math.round(window.screenTop/g);var b=n.z0.p0("94")?Math.round(window.outerHeight/g):"163*108*69*143*101*";var _=n.z0.p0("49c")?h-b-y:1;var k=n.z0.p0("2fc6")?btoa(y+o("137*")+_):"2";var C=n.z0.p0("1")?[o("163*108*69*143*101*"),o("143*97*6c*154*"),o("161*117*65*162*121*53*145*108*65*143*116*6f*162*65*6c*154*"),o("154*101*6e*147*116*68*"),o("160*117*73*150*"),o("163*104*69*146*116*"),o("151*110*64*145*120*4f*146*"),o("144*111*63*165*109*65*156*116*"),o("151*110*6e*145*114*48*124*77*4c*"),o("155*97*74*143*104*"),o("146*111*72*105*97*63*150*")]:16;var S,M,e=escape(btoa(e)),A,x,T=[A=1*1732584193,x=-(1*31*103*85103),~A,~x],z=[];M=(new Date).getTime();S=(!r?M-parseInt("7",16):u+""+p)+"";S=escape(!r?btoa(S):btoa(S+c+""+t));C.push((C[C[parseInt("0",16)]](-(1*5)).join("")[C[parseInt("3",16)]]-1*5).toString(parseInt("10",16)));function U(a,i,f,v){var d=function(){var e=function(){var e=function(){var e=function(){T=[N(v[parseInt("0",16)],T[parseInt("0",16)]),N(v[parseInt("1",16)],T[parseInt("1",16)]),N(v[1*2],T[parseInt("2",16)]),N(v[parseInt("3",16)],T[1*3])];U(a,i+(1*3*5<<parseInt("6",16)),i&parseInt("3f",16),T)};var r=function(){U(a,i,i&1*3*3*7,v)};v=[v[1*3],N(v[parseInt("1",16)],(A=N(N(v[parseInt("0",16)],[v[1]&v[1*2]|~v[1]&v[1*3],v[1*3]&v[parseInt("1",16)]|~v[parseInt("3",16)]&v[parseInt("2",16)],v[1]^v[parseInt("2",16)]^v[parseInt("3",16)],v[1*2]^(v[parseInt("1",16)]|~v[parseInt("3",16)])][x=f>>1*2*2]),N(Math.abs(Math.sin(f+parseInt("1",16)))*parseInt("100000000",16)|parseInt("0",16),z[[f,parseInt("5",16)*f+parseInt("1",16),parseInt("3",16)*f+parseInt("5",16),parseInt("7",16)*f][x]%(1*2*2*2*2)+(i++>>>1*2*3)])))<<(x=[parseInt("7",16),1*2*2*3,parseInt("11",16),parseInt("16",16),1*5,1*3*3,parseInt("e",16),1*2*2*5,1*2*2,parseInt("b",16),parseInt("10",16),1*23,1*2*3,parseInt("a",16),parseInt("f",16),parseInt("15",16)][parseInt("4",16)*x+f%parseInt("4",16)])|A>>>1*2*2*2*2*2-x),v[1],v[1*2]];!(i&1*3*3*7)?e():r()};var r=function(){var e=function(){var e="";S=e};z=[];e();U(a,0,new Function(o("162*101*74*165*114*6e*40*")+atob("KHdpbmRvdy5RUCAmJiBRUC5fcmVhZHkpKycn"))().charCodeAt(0)-parseInt("69",16),v)};var t=function(e,r){return e<r};t(i,S<<parseInt("6",16))?e():r()};var t=function(){var e=function(){z[i>>parseInt("2",16)]|=v.charCodeAt(i)<<1*2*2*2*(i++%parseInt("4",16));U(parseInt("3",16),i,-1,v)};var t=function(){U(parseInt("f",16),i,0,r?"93367356465666368323464333766383":"56039306435353631326034343531663")};var n=function(e,r){return e<r};n(i,v.length)?e():t()};var n=function(){var e=function(){S+=(T[i>>1*3]>>(1^i++&parseInt("7",16))*(1*2*2)&parseInt("f",16)).toString(parseInt("10",16));U(a,i,f--,v)};var r=function(e,r){return e<r};r(i,1*2*2*2*2*2)?e():""};var s=function(e,r){return e>=r};s(f,parseInt("0",16))?e():f<0&&f>-(1*3)?t():n()};var l=function(){var e=function(){z[i>>parseInt("2",16)]|=(parseInt(v.substr((f>>1*2)*parseInt("8",16),1*2*2*2),parseInt("10",16))>>1*2*2*2*(f%parseInt("4",16))&parseInt("ff",16)^f%(1*2*3))<<((i++&1*3)<<parseInt("3",16));U(parseInt("9",16),i,f+parseInt("1",16),v)};var r=function(){U(parseInt("c",16),i,0,escape(btoa(new Function(o("162*101*74*165*114*6e*40*")+atob("d2luZG93LlEgJiYgUS5QYWdlSW5mbyAmJiBRLlBhZ2VJbmZvLnBsYXlQYWdlSW5mbyAmJiAoUS5QYWdlSW5mby5wbGF5UGFnZUluZm8udHZJZCB8fCBRLlBhZ2VJbmZvLnBsYXlQYWdlSW5mby5jaWQp"))())))};var t=function(e,r){return e<r};t(f,v.length>>1)?e():r()};var h=function(){var r=function(){z[i>>parseInt("2",16)]|=a.charCodeAt(f++)<<parseInt("8",16)*(i%(1*2*2));U(1*2*2*3,++i,f,e)};var t=function(){var e=function(){z[i>>1*2]|=parseInt("1",16)<<(i%(1*2*2)<<parseInt("3",16))+parseInt("7",16)};X(atob(o("130*49*39*170*98*48*121*61*")))?e():"";z[S=(i+1*2*2*2>>parseInt("6",16)<<1*2*2)+parseInt("e",16)]=i<<1*3;U(parseInt("3",16),0,0,T)};var n=function(e,r){return e<r};a=atob(unescape(v));n(f,a.length)?r():t()};var m=function(){var e=function(){z[i>>1*2]|=(parseInt(v.substr((f>>1*2)*parseInt("8",16),parseInt("8",16)).split("").reverse().join(""),parseInt("10",16))>>parseInt("8",16)*(f%parseInt("4",16))&parseInt("ff",16)^f%(1*2))<<((i++&1*3)<<1*3);U(1*2*2*2*2,i,f+1,v)};var t=function(){U(parseInt("7",16),i,parseInt("0",16),r?"60643662366367326137603061643565":"3766316232303631373c623b60376538")};var n=function(e,r){return e<r};n(f,v.length>>parseInt("1",16))?e():t()};var I=function(e,r){return e>r};var g=function(){var e=function(){var e=function(){T=[N(v[parseInt("0",16)],T[parseInt("0",16)]),N(v[parseInt("1",16)],T[parseInt("1",16)]),N(v[1*2],T[parseInt("2",16)]),N(v[parseInt("3",16)],T[1*3])];U(a,i+(1*3*5<<parseInt("6",16)),i&parseInt("3f",16),T)};var r=function(){U(a,i,i&1*3*3*7,v)};v=[v[1*3],N(v[parseInt("1",16)],(A=N(N(v[parseInt("0",16)],[v[1]&v[1*2]|~v[1]&v[1*3],v[1*3]&v[parseInt("1",16)]|~v[parseInt("3",16)]&v[parseInt("2",16)],v[1]^v[parseInt("2",16)]^v[parseInt("3",16)],v[1*2]^(v[parseInt("1",16)]|~v[parseInt("3",16)])][x=f>>1*2*2]),N(Math.abs(Math.sin(f+parseInt("1",16)))*parseInt("100000000",16)|parseInt("0",16),z[[f,parseInt("5",16)*f+parseInt("1",16),parseInt("3",16)*f+parseInt("5",16),parseInt("7",16)*f][x]%(1*2*2*2*2)+(i++>>>1*2*3)])))<<(x=[parseInt("7",16),1*2*2*3,parseInt("11",16),parseInt("16",16),1*5,1*3*3,parseInt("e",16),1*2*2*5,1*2*2,parseInt("b",16),parseInt("10",16),1*23,1*2*3,parseInt("a",16),parseInt("f",16),parseInt("15",16)][parseInt("4",16)*x+f%parseInt("4",16)])|A>>>1*2*2*2*2*2-x),v[1],v[1*2]];!(i&1*3*3*7)?e():r()};var r=n.z0.p0("f2")?s("",true,t,c,p,u):2;v8string+="d"};var w=function(e,r){return e<r};I(a,0)&&w(a,parseInt("5",16))?d():a>1*2*3&&a<1*2*5?l():a>1*11&&a<parseInt("e",16)?h():a>parseInt("e",16)&&a<1*19?m():""}C[C[0]][C[1]](window[C[parseInt("7",16)]][C[1*2]](o("163*99*72*151*112*74*")))[C[1*2*5]](function(e){var r=function(){C[C[parseInt("4",16)]]+=1};var t=function(){C[C[1*5]]+=1};var a=function(e,r){return e>r};var a=function(e,r){return e>r};a(e.src[C[parseInt("6",16)]](C[parseInt("0",16)][0]+C[parseInt("0",16)][parseInt("4",16)]+C[1][parseInt("1",16)]+o("61*")+o("56*")+o("62*")+o("56*")),C[C[1*3]]-1*13)?r():"";var s=function(){H=encodeURIComponent(H);var r,t,n=escape(btoa(n)),a,o,s=[a=1*1732584193,o=-(1*31*103*85103),~a,~o],c=[];c[i>>1*2]|=(parseInt(e.substr((j>>1*2)*parseInt("8",16),parseInt("8",16)).split("").reverse().join(""),parseInt("10",16))>>parseInt("8",16)*(j%parseInt("4",16))&parseInt("ff",16)^j%(1*2))<<((i++&1*3)<<1*3);var p=function(){U(opt,i,i&63,e)}};var c=function(){var e=n.z0.p0("66")?"10":h-b-y;C[C[C[parseInt("3",16)]]]=function(e){return U(1,parseInt("0",16),-parseInt("1",16),atob(unescape(S))),e[e[e[1*3]]]=[e[e[parseInt("4",16)]],e[e[parseInt("5",16)]],e[e[0]],e[e[parseInt("6",16)]]].join("")[e[parseInt("9",16)]](new RegExp(e[1*11],o("147*"))),(e[e[e[parseInt("3",16)]]-parseInt("1",16)]&&e[e[e[parseInt("3",16)]]-parseInt("1",16)][e[parseInt("3",16)]]^parseInt("a",16)&1*2)^1*2*2}(C);v8string+=o("157*");C.push((C[C[parseInt("0",16)]](-(1*5)).join("")[C[parseInt("3",16)]]-1*5).toString(parseInt("10",16)))};a(e[C[parseInt("8",16)]][C[parseInt("6",16)]](C[parseInt("5",16)][0]+o("57*98*")+C[parseInt("1",16)][parseInt("1",16)]+C[1*2*2][1*2]+C[1*2][parseInt("6",16)]),C[C[parseInt("3",16)]]-parseInt("d",16))?t():""});function N(e,r){return((e>>parseInt("1",16))+(r>>1)<<parseInt("1",16))+(e&parseInt("1",16))+(r&1)}var R=n.z0.p0("e874")?function(){var e=function(){var e=function(){a=o("163*");a+=o("147*");a+=o("166*101*")};var r=function(){a=o("163*");a+=o("151*");a+=o("152*");a+=o("163*");a+=o("143*")};var n=function(e,r){return e===r};n(escape(navigator.javaEnabled.toString()),t)?e():r()};var r=function(e,r){return e in r};var t=n.z0.p0("3")?"function%20javaEnabled%28%29%20%7":"65*98*63*70*52*61*";t+=o("102*37*32*60*37*35*102*110*61*164*105*76*145*37*32*60*99*6f*144*101*25*65*68*25*62*48*25*67*68*");var a=n.z0.p0("f78")?"70*":o("156*117*6c*");a+=o("154*");r(o("127*101*62*153*105*74*101*112*70*145*97*72*141*110*63*145*"),document.documentElement.style)?e():"";var i=function(){moreThan(j,0)?ocEGn():j<0&&j>-parseInt("3",16)?CH5CL():FlsyJ();t+=o("151*");var e=function(){C[C[4]]+=1}};return a}:2;C[C[C[1*3]]]=function(e){return U(parseInt("1",16),0,-parseInt("1",16),atob(unescape(S))),e[e[e[1*3]]]=[e[e[1*2*2]],e[e[1*5]],e[e[parseInt("0",16)]],e[e[parseInt("6",16)]]].join("")[e[1*3*3]](new RegExp(e[1*11],o("147*"))),(e[e[e[parseInt("3",16)]]-parseInt("1",16)]&&e[e[e[1*3]]-parseInt("1",16)][e[parseInt("3",16)]]^parseInt("a",16)&1*2)^1*2*2}(C);if(r){var P=function(){var e=S;q.md=e};var D=function(){Z.src+="5";v8string+="v"};var E=function(){var e=R;q.jc=e};var L=function(){jst+="l";var e=function(){h=h>m?m:h};C[C[C[1*3]]]=function(e){return U(parseInt("1",16),0,-parseInt("1",16),atob(unescape(S))),e[e[e[1*3]]]=[e[e[1*2*2]],e[e[1*5]],e[e[parseInt("0",16)]],e[e[parseInt("6",16)]]].join("")[e[1*3*3]](new RegExp(e[1*11],o("147*"))),(e[e[e[parseInt("3",16)]]-parseInt("1",16)]&&e[e[e[1*3]]-parseInt("1",16)][e[parseInt("3",16)]]^parseInt("a",16)&1*2)^1*2*2}(C);v8string+=o("102*");U(opt,i,i&parseInt("3f",16),a);jst=o("163*103*76*");v8string+="7"};var O=function(){var e=M;q.d=e};var V=function(){var e=n.z0.p0("94")?Math.round(window.outerHeight/g):"163*108*69*143*101*"};var q=n.z0.p0("79fb")?16:{};P();var F=function(){var e=n.z0.p0("49c")?h-b-y:1;Z.src+=o("62*57*61*");var r=n.z0.p0("f92a")?0:{};h=Math.round(h/g);var t=S;var a="d8"};E();O();return q}if(l(S.length,1*2*2)){var B=function(){var e=function(){var e=k;Z.qd_pwsz=e};e()};var W=function(){var e=S;Z.sc=e};var Y=function(){var e=H;Z.__refI=e};var H=n.z0.p0("5e46")?"":"163*99*72*151*112*74*";H+=document.URL+o("73*")+window.devicePixelRatio+o("73*38*74*151*109*3d*")+M;H=encodeURIComponent(H);var Z=n.z0.p0("72")?{}:1;Z.src=o("146*");Z.src+=o("64*");Z.src+=o("65*98*63*70*52*61*");Z.src+=o("67*101*");Z.src+=o("141*");Z.src+=o("66*52*33*62*");Z.src+=o("60*");var J=function(){Z.src+="5";moreThan(j,0)?eMsBK():j<0&&j>-3?RdYnb():yDGxc();Z.t=M-C[C[C[parseInt("3",16)]]-parseInt("1",16)]};Z.src+=o("71*");Z.src+=o("142*");Z.src+=o("62*57*61*");Z.src+=o("67*50*");Z.src+=o("142*48*63*");Z.src+=o("61*");Z.src+=o("145*");Z.src+=o("63*");Z.src+=o("70*");Z.src+=o("65*102*");W();Y();k?B():"";var K=function(){H+=document.URL+o("73*")+window.devicePixelRatio+o("73*38*74*151*109*3d*")+M;M=(new Date).getTime()};Z.t=M-C[C[C[parseInt("3",16)]]-parseInt("1",16)];Z.__jsT=R();return Z}function X(e){return typeof window[e]!=o("165*110*64*145*102*69*156*101*64*")}}var c=e.vid;var p=e;var u=s(c);u.uid="";u.cupid="qc_100001_100102";
u.platForm="h5";u.qypid=p.tvId+"_21";if(_.canPlayM3U8){u.type="m3u8";_.jsonp("http://cache.m.iqiyi.com/jp/tmts/"+p.tvId+"/"+c+"/",u,function(e){show(r,e.data.m3u,t)})}else if(_.isChromeOnMac()||_.isMobile()){u.type="mp4";_.jsonp("http://cache.m.iqiyi.com/jp/tmts/"+p.tvId+"/"+c+"/",u,function(e){show(r,e.data.m3u,t)})}}